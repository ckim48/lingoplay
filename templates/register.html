<!doctype html>
<html lang="en" data-bs-theme="light">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Register · LingoPlay</title>

    <!-- Bootstrap (for grid/inputs) -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="icon" href="{{ url_for('static', filename='favicon.png') }}" sizes="32x32" type="image/png">
<link rel="apple-touch-icon" sizes="180x180" href="{{ url_for('static', filename='apple-touch-icon.png') }}">

    <style>
      /* ===============================
         LingoPlay • Lime Theme (register)
         =============================== */
      :root{
        --ink:#0f172a;
        --muted:#64748b;
        --surface:#ffffff;
        --line:#e5e7eb;
        --shadow: 0 10px 30px rgba(2,6,23,.08);

        /* Lime palette (shared) */
        --lp-lime-50:#f7fee7;
        --lp-lime-100:#ecfccb;
        --lp-lime-200:#d9f99d;
        --lp-lime-300:#bef264;
        --lp-lime-400:#a3e635;
        --lp-lime-500:#84cc16;
        --lp-lime-600:#65a30d;
        --lp-lime-700:#4d7c0f;

        /* Background */
        --bg-grad:
          radial-gradient(1200px 600px at -10% -10%, var(--lp-lime-50) 0%, rgba(247,254,231,0) 60%),
          radial-gradient(900px 480px at 110% 10%, #e2e8f0 0%, rgba(226,232,240,0) 65%),
          linear-gradient(180deg, #f8fafc 0%, #f1f5f9 100%);
      }

      html, body{ min-height:100%; }
      body{
        background: var(--bg-grad);
        color: var(--ink);
        font-family: Inter, Nunito, "Noto Sans KR", system-ui, -apple-system, "Segoe UI", Roboto, Arial, sans-serif;
        display:flex; align-items:center; justify-content:center;
        padding: 4vh 16px;
      }

      /* Centered card */
      .register-card{
        width: 100%;
        max-width: 460px;
        background: var(--surface);
        border:1px solid var(--line);
        border-radius: 20px;
        box-shadow: var(--shadow);
        position: relative;
        overflow: hidden;
      }
      .card-body{ position:relative; z-index:1; padding: 2rem; }

      /* Soft lime halos */
      .register-card::before,
      .register-card::after{
        content:""; position:absolute; border-radius:50%;
        filter: blur(28px); opacity:.55; z-index:0; pointer-events:none;
      }
      .register-card::before{
        width:360px; height:360px; top:-140px; left:-140px;
        background: radial-gradient(closest-side, var(--lp-lime-100) 0%, #fff0 70%);
      }
      .register-card::after{
        width:360px; height:360px; bottom:-140px; right:-140px;
        background: radial-gradient(closest-side, var(--lp-lime-50) 0%, #fff0 70%);
      }

      /* Title */
      .brand-display{
        font-family: Fredoka, Nunito, "Noto Sans KR", sans-serif;
        font-weight: 800; letter-spacing:.2px;
        color: var(--lp-lime-700);
      }
      .subtitle{
        color: var(--muted);
      }

      /* Inputs */
      .form-label{
        font-weight: 700;
        font-size: .9rem;
        color: var(--muted);
        letter-spacing:.15px;
      }
      .form-control{
        border-radius: .8rem;
        border:1px solid var(--line);
        padding:.9rem 1rem;
      }
      .form-control:focus{
        border-color: var(--lp-lime-400);
        box-shadow: 0 0 0 .25rem rgba(132,204,22,.16);
      }

      /* Input with icon */
      .input-group .input-group-text{
        background:#f8fafc;
        border:1px solid var(--line);
        border-right:0;
        color: var(--lp-lime-700);
        border-radius:.8rem 0 0 .8rem;
      }
      .input-group .form-control{
        border-left:0; border-radius:0 .8rem .8rem 0;
      }

      /* Buttons */
      .btn{ border-radius:.9rem; }
      .btn-lime{
        --bs-btn-color:#fff;
        --bs-btn-bg:var(--lp-lime-600);
        --bs-btn-border-color:var(--lp-lime-600);
        --bs-btn-hover-bg:var(--lp-lime-700);
        --bs-btn-hover-border-color:var(--lp-lime-700);
        --bs-btn-focus-shadow-rgb:132,204,22;
        --bs-btn-active-bg:var(--lp-lime-700);
        --bs-btn-active-border-color:var(--lp-lime-700);
        box-shadow: 0 10px 22px rgba(101,163,13,.20);
      }
      .btn-lime-light{
        --bs-btn-color:var(--lp-lime-700);
        --bs-btn-bg:var(--lp-lime-100);
        --bs-btn-border-color:var(--lp-lime-200);
        --bs-btn-hover-color:var(--lp-lime-700);
        --bs-btn-hover-bg:var(--lp-lime-200);
        --bs-btn-hover-border-color:var(--lp-lime-300);
        --bs-btn-focus-shadow-rgb:132,204,22;
        --bs-btn-active-bg:var(--lp-lime-300);
        --bs-btn-active-border-color:var(--lp-lime-300);
      }

      /* Footer link */
      .muted-link{ color: var(--muted); text-decoration: none; }
      .muted-link:hover{ color: var(--ink); text-decoration: underline; }

      /* Accessibility */
      :focus-visible{
        outline: 3px solid color-mix(in oklab, var(--lp-lime-500) 65%, white);
        outline-offset: 2px; border-radius:.6rem;
      }

      /* Tiny helper text */
      .help{ color:#94a3b8; font-size:.85rem; }
    </style>
  </head>

  <body>
    <div class="register-card">
      <div class="card-body">
        <div class="d-flex justify-content-between align-items-center mb-2">
          <h2 class="brand-display mb-0">Create Account</h2>
        </div>
        <p class="subtitle mb-4">Join LingoPlay to create stories & track progress.</p>

        <!-- Form -->
        <form action="/register" method="post" class="vstack gap-3">
          <div>
            <label class="form-label">Username</label>
            <div class="input-group">
              <span class="input-group-text"><i class="bi bi-person"></i></span>
              <input type="text" name="username" class="form-control" placeholder="yourname" required />
            </div>
            <div class="help mt-1">3–32 characters; letters, numbers, _ . -</div>
          </div>

          <div>
            <label class="form-label">Email Address</label>
            <div class="input-group">
              <span class="input-group-text"><i class="bi bi-envelope"></i></span>
              <input type="email" name="email" class="form-control" placeholder="you@example.com" required />
            </div>
          </div>

          <div>
            <label class="form-label">Password</label>
            <div class="input-group">
              <span class="input-group-text"><i class="bi bi-shield-lock"></i></span>
              <input id="pw" type="password" name="password" class="form-control" placeholder="At least 8 characters" required minlength="8" />
            </div>
          </div>

          <div>
            <label class="form-label">Confirm Password</label>
            <div class="input-group">
              <span class="input-group-text"><i class="bi bi-check2-square"></i></span>
              <input id="pw2" type="password" name="confirm" class="form-control" placeholder="Type it again" required minlength="8" />
            </div>
            <div class="form-text" id="matchHint" style="display:none;">Passwords match ✅</div>
          </div>

          <button type="submit" class="btn btn-lime w-100 py-3 mt-1">
            Create my account
          </button>

          <div class="text-center">
            <small class="text-secondary">
              Already have an account?
              <a class="muted-link fw-semibold" href="/login">Sign in</a>
            </small>
          </div>
        </form>
      </div>
    </div>

    <!-- Icons + small script -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
    <script>
      // Tiny UX: live "passwords match" hint
      (function(){
        const pw  = document.getElementById('pw');
        const pw2 = document.getElementById('pw2');
        const hint = document.getElementById('matchHint');
        function check(){
          if(!pw.value || !pw2.value){ hint.style.display='none'; return; }
          hint.style.display = (pw.value === pw2.value) ? '' : 'none';
        }
        pw.addEventListener('input', check);
        pw2.addEventListener('input', check);
      })();
    </script>
  </body>
</html>
